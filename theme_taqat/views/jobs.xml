<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!--    recruitment page templates    -->
    <template id="index_inherit" inherit_id="website_hr_recruitment.index"
              active="True">
        <!-- header section -->
        <xpath expr="//div[@id='oe_structure_hr_recruitment_index_top']" position="before">
            <div class="py-y bg-white">
                <div class="container py-lg-5">
                    <div class="row justify-content-between pb-4 pb-lg-5">
                        <div class="col-lg-6 py-4">
                            <h1 class="display-2 fw-bold">Discover your career opportunities with Taqat</h1>
                            <h2 class="display-5 fw-bold">Start your journey toward excellence with us</h2>
                            <p class="fs-4">Join the Taqat team, where we offer a dynamic work environment and
                                unmatched opportunities for professional growth. Discover how you can contribute to
                                our vision and exceed your personal expectations in the world of technology and
                                innovation.
                            </p>
                        </div>
                        <div class="col-lg-6 col-xl-5 ps-lg-5 py-4 rounded-5 overflow-hidden">
                            <img src="/theme_taqat/static/src/img/job-page/jobs-landing.png"
                                 alt="Taqat For Technology" loading="lazy" class="w-100"/>
                        </div>
                    </div>
                    <div class="row justify-content-between">
                        <div class="col-lg-6 col-xl-5 py-4">
                            <h2 class="h1">Why Join Us?</h2>
                        </div>
                        <div class="col-lg-6 col-xl-5 ps-lg-5 py-4">
                            <h3>An inspiring work environment</h3>
                            <p class="fs-4">We believe in innovation and teamwork as fundamental pillars of
                                success.
                            </p>
                            <h3>Professional development opportunities</h3>
                            <p class="fs-4">We provide you with continuous training and the resources to enhance
                                your skills and achieve your goals.
                            </p>
                            <h3>A purposeful message</h3>
                            <p class="fs-4">Be part of a team that strives to make a positive and lasting impact on
                                society.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>

        <!-- Topbar -->
        <xpath expr="//div[@id='wrap']" position="attributes">
            <attribute name="class" remove="o_colored_level o_cc o_cc2"
                       separator=" "/>
        </xpath>
        <xpath expr="//div[@class='d-flex flex-column flex-md-row flex-md-wrap flex-lg-nowrap align-items-center justify-content-between w-100']"
               position="before">
            <h2 class="navbar-brand me-0 mt-5">Search for current job</h2>
            <t t-set="no_of_active_job"
               t-value="request.env['hr.job'].search_count([('website_published', '=', True)])"/>
            <p class="mb-4">
                <t t-esc="no_of_active_job"/>
                Job
            </p>
        </xpath>
        <xpath expr="//span[hasclass('navbar-brand')]" position="replace"/>
        <xpath expr="//nav[hasclass('navbar')]" position="attributes">
            <attribute name="class" remove="navbar navbar-light border-top shadow-sm d-print-none w-100 o_colored_level"
                       separator=" "/>
            <attribute name="style">background: #F9FAFB;</attribute>
        </xpath>
        <xpath expr="//div[@class='d-flex flex-column flex-md-row flex-md-wrap flex-lg-nowrap align-items-center justify-content-between w-100']"
               position="attributes">
            <attribute name="class">d-flex flex-column flex-lg-row align-items-end gap-3 bg-black rounded-3 p-3 mb-lg-4
            </attribute>
        </xpath>

        <!-- Content -->
        <xpath expr="//div[hasclass('oe_website_jobs')]" position="attributes">
            <attribute name="class" remove="container" separator=" "/>
            <attribute name="style">background: #F9FAFB;</attribute>
        </xpath>
        <xpath expr="//div[@class='row pt48 pb16']" position="attributes">
            <attribute name="class" remove="row" add="container" separator=" "/>
        </xpath>
        <xpath expr="//div[@class='row flex-column']" position="attributes">
            <attribute name="class" remove="flex-column" separator=" "/>
        </xpath>

        <!--    recruitment item templates    -->
        <xpath expr="//div[@t-foreach='jobs']" position="replace">
            <div t-foreach="jobs" t-as="job" class="col-md-6 col-xl-4 job-card mb32">
                <div t-attf-class="card h-100 #{not job.website_published and 'o_jobs_unpublished'}">
                    <div class="card-body p-4 d-flex flex-column">
                        <div class="mt0 d-flex justify-content-between align-items-center">
                            <h3 t-field="job.name"/>
                            <span t-if="not job.website_published" class="badge bg-danger mb8 p-2">unpublished
                            </span>
                        </div>
                        <div class="d-flex fw-6 mb-3">
                            <span t-field="job.address_id" class="me-1"
                                  t-options='{"widget": "contact", "fields": ["city"],"no_marker": true, "null_text": "Remote", "no_tag_br": True}'/>
                            |
                            <span t-field="job.department_id" class="ms-1"
                                  t-options='{"fields": ["name"], "no_tag_br": True}'/>
                        </div>
                        <t t-set="job_desc_edition_placeholder">Insert a Job Description...</t>
                        <div class="oe_empty text-muted mb16 job-description"
                             t-field="job.description"
                             t-att-data-editor-message="job_desc_edition_placeholder"/>
                        <div class="d-flex justify-content-between pt-3 mt-auto">

                            <a t-attf-href="/jobs/#{ slug(job) }"
                               t-attf-class="text-decoration-none text-reset job-link"
                               draggable="false">More
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25"
                                     fill="none">
                                    <path d="M15 19.8965L8 12.8965L15 5.89648" stroke="#212020" stroke-width="2"
                                          stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </a>
                            <p t-if="job.no_of_recruitment > 0" class="text-reset m-0">
                                <span t-field="job.no_of_recruitment"/>
                                <t t-if="job.no_of_recruitment == 1">
                                    open position
                                </t>
                                <t t-else="">
                                    open positions
                                </t>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>

    </template>

    <template id="topbar_customizations_inherit" inherit_id="website_hr_recruitment.topbar_customizations"
              active="True">
        <xpath expr="//ul[hasclass('o_jobs_topbar_filters')]" position="attributes">
            <attribute name="class" remove="flex-md-nowrap nav py-2 py-md-0 ps-lg-3"
                       separator=" " add="row mx-0 order-lg-last gap-3"/>
        </xpath>
        <xpath expr="//div[hasclass('o_jobs_topbar_search_bar')]" position="attributes">
            <attribute name="class"
                       remove="d-flex align-items-center justify-content-end w-md-100 w-lg-25 me-2 me-lg-0 ps-lg-2"
                       separator=" " add="rounded-3 w-100 w-lg-25"/>
        </xpath>
    </template>
    <!--    recruitment filters templates    -->
    <template id="job_filter_by_countries_inherit" inherit_id="website_hr_recruitment.job_filter_by_countries"
              active="True">
        <xpath expr="//li[@t-attf-class='nav-item dropdown w-100 w-md-auto me-2 my-1 flex-fill']" position="attributes">
            <attribute name="t-attf-class">col-lg-auto m-0 px-0</attribute>
        </xpath>
        <xpath expr="//button[hasclass('btn-outline-primary')]" position="before">
            <label class="d-block mb-3">Country</label>
        </xpath>
        <xpath expr="//button[hasclass('btn-outline-primary')]" position="attributes">
            <attribute name="class" add="btn-light rounded-3 w-lg-auto d-flex align-items-center"
                       remove="btn-outline-primary" separator=" "/>
        </xpath>
    </template>
    <template id="job_filter_by_departments_inherit" inherit_id="website_hr_recruitment.job_filter_by_departments"
              active="True">
        <xpath expr="//li[@t-attf-class='nav-item dropdown w-100 w-md-auto me-2 my-1 flex-fill']" position="attributes">
            <attribute name="t-attf-class">col-lg-auto m-0 px-0</attribute>
        </xpath>
        <xpath expr="//button[hasclass('btn-outline-primary')]" position="before">
            <label class="d-block mb-3">Department</label>
        </xpath>
        <xpath expr="//button[hasclass('btn-outline-primary')]" position="attributes">
            <attribute name="class" add="btn-light rounded-3 w-lg-auto d-flex align-items-center"
                       remove="btn-outline-primary" separator=" "/>
        </xpath>
    </template>
    <template id="job_filter_by_offices_inherit" inherit_id="website_hr_recruitment.job_filter_by_offices"
              active="True">
        <xpath expr="//li[@t-attf-class='nav-item dropdown w-100 w-md-auto me-2 my-1 flex-fill']" position="attributes">
            <attribute name="t-attf-class">col-lg-auto m-0 px-0</attribute>
        </xpath>
        <xpath expr="//button[hasclass('btn-outline-primary')]" position="before">
            <label class="d-block mb-3">Offices</label>
        </xpath>
        <xpath expr="//button[hasclass('btn-outline-primary')]" position="attributes">
            <attribute name="class" add="btn-light rounded-3 w-lg-auto d-flex align-items-center"
                       remove="btn-outline-primary" separator=" "/>
        </xpath>
    </template>
    <template id="job_filter_by_employment_type_inherit"
              inherit_id="website_hr_recruitment.job_filter_by_employment_type"
              active="True">
        <xpath expr="//li[@t-attf-class='nav-item dropdown w-100 w-md-auto me-2 my-1 flex-fill']" position="attributes">
            <attribute name="t-attf-class">col-lg-auto m-0 px-0</attribute>
        </xpath>
        <xpath expr="//button[hasclass('btn-outline-primary')]" position="before">
            <label class="d-block mb-3">Types</label>
        </xpath>
        <xpath expr="//button[hasclass('btn-outline-primary')]" position="attributes">
            <attribute name="class" add="btn-light rounded-3 w-lg-auto d-flex align-items-center"
                       remove="btn-outline-primary" separator=" "/>
        </xpath>
    </template>

    <!--    recruitment details page templates    -->
    <template id="detail_inherit"
              inherit_id="website_hr_recruitment.detail"
              active="True">

        <xpath expr="//section[hasclass('o_job_bottom_bar')]" position="replace">

            <section class="o_job_bottom_bar mt24 mb48">
                <div class="container border-top py-5">
                    <a role="button" t-attf-href="/jobs/apply/#{slug(job)}" class="btn btn-primary">Apply Now
                        <svg class="ms-2" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25"
                             fill="none">
                            <path d="M15 19.8965L8 12.8965L15 5.89648" stroke="#FEFDF9" stroke-width="2"
                                  stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                </div>
            </section>

        </xpath>
        <xpath expr="//div[@class='float-end']/a" position="replace">
            <a role="button" t-attf-href="/jobs/apply/#{slug(job)}" class="btn btn-primary float-end">Apply Now
                <svg class="ms-2" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25"
                     fill="none">
                    <path d="M15 19.8965L8 12.8965L15 5.89648" stroke="#FEFDF9" stroke-width="2"
                          stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </a>
        </xpath>


    </template>

</odoo>